---
- name: Clone mininet
  git:
    repo: https://github.com/mininet/mininet.git
    dest: /root/mininet
    update: no
    version: "{{ MININET_VERSION }}"
  tags: mininet

- name: correct dpkg interrupted problem
  shell: dpkg --configure -a
  args:
    chdir: /root/mininet
  tags: mininet

- name: install mininet
  shell: ./util/install.sh -f -k -m -n -t -v -w -0 -3 || /bin/true
  args:
    chdir: /root/mininet
  tags: mininet
